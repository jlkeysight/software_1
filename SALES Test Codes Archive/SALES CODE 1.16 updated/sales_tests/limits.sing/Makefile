# -*-Makefile-*-
########################################################################
# 
# MTD Makefile Template
# This template was generated by update_make version 3.30
#
# FILE : dgn/src/sales_tests/limits.sing/Makefile
#
# NOTES:
#   - This makefile automatically determines all dependencies
#     and rules and modifies itself when a 'make depend' is done.
#   - It supports the following:
#
#     language     file extension
#     --------     --------------
#     C            .c
#     C++          .cpp
#     Objective-C  .m
#     java         .java
#
#   - This makefile supports the following features
#     - automatic generation of file dependencies 
#     - compile rules for Java, ANSI C++, ANSI C, and Objective-C
#     - building of archived libraries
#     - building of shared libraries
#     - building of executables
#
# AUTHOR : Bob Balliew
# DATE   : 6/19/2004
#########################################################################
# Makefile template version number
TEMPLATE_VERSION=3.27

# read in make_variables to get platform dependent settings, such as
# A, O, and E variables. COMMON_MAKE_MACROS must be set in the environment.
include $(COMMON_MAKE_MACROS)

all: disp_ver expand_macros check_env_var check_for_unlib
#########################################################################
# GENERAL MACRO SETTINGS
#########################################################################
MAKE_DEP=`hp9000s700 && \
  echo 'make_depend_aCC' || \
  echo 'make_depend_aCC'`

# set DEPSPROG to be the name of the dependencies program you want
# to use - normally this would be finddpd
# Note that if DEPSPROG is set to nothing finddpd will be used by default
DEPSPROG=

# compiler macros
CC=`hp9000s700 && \
  echo 'wcc' || \
  echo 'cl'`
CXX=`hp9000s700 && \
  echo 'waCC' || \
  echo 'cl'`
OBJCC=`hp9000s700 && \
  echo 'objcc' || \
  echo 'objcc'`
JAVAC=`hp9000s700 && \
  echo 'javac' || \
  echo 'javac $(JAVAC_OPTS)'`
CC68K=`hp9000s700 && \
  echo '$(CT_INST)' || \
  echo '$(CT_INST)'`
CXX68K=`hp9000s700 && \
  echo '$(CT_INST)' || \
  echo '$(CT_INST)'`
AS68K=`hp9000s700 && \
  echo '' || \
  echo ''`
AR68K=`hp9000s700 && \
  echo '' || \
  echo ''`
LD68K=`hp9000s700 && \
  echo '' || \
  echo ''`

# ar, rm and ln macros 
AR=`hp9000s700 && \
  echo 'ar' || \
  echo 'ar'`
AR_FLAGS=`hp9000s700 && \
  echo '-rc' || \
  echo '-rc'`
RM=`hp9000s700 && \
  echo 'rm' || \
  echo 'rm'`
RM_FLAGS=`hp9000s700 && \
  echo '-rf' || \
  echo '-rf'`
LNHARD=`hp9000s700 && \
  echo 'ln' || \
  echo 'cp'`
LNSYMBOLIC=`hp9000s700 && \
  echo 'ln -s' || \
  echo 'cp'`

# lex, flex, yacc, bison

LEX=`hp9000s700 && \
  echo 'lex' || \
  echo 'flex'`

FLEX=`hp9000s700 && \
  echo 'flex' || \
  echo 'flex'`

YACC=`hp9000s700 && \
  echo 'yacc' || \
  echo 'bison'`

BISON=`hp9000s700 && \
  echo 'bison' || \
  echo 'bison'`

#########################################################################
# OPTIONS AND FLAGS SECTION
#########################################################################
# set compiler flag options here

CCFLAGS=`hp9000s700 && \
  echo '-Aa \
	-D_HPUX_SOURCE \
	-DHPCPP' || \
  echo '-W3 \
	-Za \
	-Zl \
	-MT \
	-DMSVCPP \
	-D__WIN32__ \
	-D__NUTC__ \
	-D__PCTEXT__ \
	-D__SILKROAD_I__ \
	-D_POSIX_SOURCE \
	-D_SVID_SOURCE \
	-D_BSD_SOURCE \
	-D_NUTC_SOURCE'`

OBJCCFLAGS=`hp9000s700 && \
  echo '-ccOpt:-Aa \
	-sBind \
	-D_HPUX_SOURCE \
	-DHPCPP' || \
  echo '-ccOpt:-W3 \
	-ccOpt:-Za \
	-ccOpt:-Zl \
	-ccOpt:-MT \
	-DUSE_STDARG \
	-DMSVCPP \
	-D__WIN32__ \
	-D__NUTC__ \
	-D__PCTEXT__ \
	-D__SILKROAD_I__ \
	-D_POSIX_SOURCE \
	-D_SVID_SOURCE \
	-D_BSD_SOURCE \
	-D_NUTC_SOURCE'`

CXXFLAGS=`hp9000s700 && \
  echo '-DHPCPP \
	-DANSI_CPP' || \
  echo '-W3 \
	-Zl \
	-MT \
	-DMSVCPP \
	-D__WIN32__ \
	-D__NUTC__ \
	-D__PCTEXT__ \
	-D__SILKROAD_I__ \
	-D_POSIX_SOURCE \
	-D_SVID_SOURCE \
	-D_BSD_SOURCE \
	-D_NUTC_SOURCE'`

JAVAFLAGS=`hp9000s700 && \
  echo '' || \
  echo '$(DBG_JAVAFLAGS)'`
LINTFLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`
CC68KFLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`
CXX68KFLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`
AS68KFLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`
AR68KFLAGS=`hp9000s700 && \
  echo '-r' || \
  echo ''`
LD68KFLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`

# Position Independent Code flag
PICFLAG=`hp9000s700 && \
  echo '+Z' || \
  echo ''`
OBJCCPICFLAG=`hp9000s700 && \
  echo '-ccOpt:+Z' || \
  echo ''`

# Shared Library flag (or dynamic link library flag on pc)
SLFLAG=`hp9000s700 && \
  echo '-b' || \
  echo '-LD'`

# set include options here (-I options)
# Note that the dependencies program cannot handle a space after the -I
# for example: do not do -I /usr/include, do -I/usr/include
CC_INCLUDE=`hp9000s700 && \
  echo '' || \
  echo ''`
OBJCC_INCLUDE=`hp9000s700 && \
  echo '' || \
  echo ''`
CXX_INCLUDE=`hp9000s700 && \
  echo '' || \
  echo ''`

# set load flag options here
# These options get used at link time instead of CCFLAGS, OBJCCFLAGS,
# and CXXFLAGS.  This is done in case the link options need to
# be different from the compiler options. Note that linking is
# always done using CC since it knows how to link to objects that
# contain templates (cc and objcc do not).  This is why
# CXXFLAGS is the default setting for all three of these. 
CC_LDFLAGS=
OBJCC_LDFLAGS=
CXX_LDFLAGS=

# put in load options here
# These options are placed at the middle link line.  Link options
# that need to be put in early on the link line should be put here.
EARLY_CC_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo ''`
EARLY_OBJCC_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo ''`
EARLY_CXX_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo ''`

# These options are placed at the very end of the link line.  Link options
# that need to be at the end of the link line should be put here.
CC_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo '-link \
	-SUBSYSTEM:console \
	-DEBUG \
	-DEBUGTYPE:COFF \
	$(DEBUG_LDOPTS)'`
OBJCC_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo '-link \
	-SUBSYSTEM:console \
	-DEBUG \
	-DEBUGTYPE:COFF \
	$(DEBUG_LDOPTS)'`
CXX_LDOPTS=`hp9000s700 && \
  echo '' || \
  echo '-link \
	-SUBSYSTEM:console \
	-DEBUG \
	-DEBUGTYPE:COFF \
	$(DEBUG_LDOPTS)'`

#########################################################################
# SOURCE FILE AND LIBRARY SECTION
#########################################################################
# PROGRAMS contains the list of all files that will be executables
# use filename.X - where X is c, cpp, m, or java

PROGRAMS=

# The PROGRAMS_P2C list gets handled differently than the PROGRAMS 
# list in only one way. The PROGRAMS_P2C list should only contain
# filenames that have an _p.cpp.  It automatically gets rid of
# the _p for the executable file.  So an executable called
# filename will be created for a file called filename_p.cpp.
# use filename.X - where X is c, cpp, or m

PROGRAMS_P2C=

# PROGRAMS_OBJCLINK contains the list of all files that will be executables
# and that need to link to objective-C objects.
# NOTE that .m files DO NOT BELONG in this list because they
# always need to link to objective-C objects
# If your executable needs to have objcPreLink and objcPostLink
# run on it, it belongs in this section.
# use filename.X - where X is c or cpp

PROGRAMS_OBJCLINK=

# PROGRAMS_P2C_OBJCLINK
# this is for programs that have _p.cpp endings and that
# need to link to objective-C objects.
# see the explanation for PROGRAMS_P2C and PROGRAMS_OBJCLINK
# If your executable needs to have objcPreLink and objcPostLink
# run on it, it belongs in this section.
# use filename.X - where X is c or cpp

PROGRAMS_P2C_OBJCLINK=

# Only set OBJECTS_XXXX if you want an executable to link to objects
# that do not exist in any libraries listed in LOCAL_LIBS.
# Typically, you do not have to set this variable.
# To use it, list all objects to be loaded with the program besides
# the ones that go into the library LOCAL_LIBS.
# Each object file listed here should use $O and its corresponding source
# file should be listed further below in NO_LIB_SOURCES so that 
# dependencies and rules for it will be generated.
# Example for program "prg": "OBJECTS_prg=prg_main$O prg_sub$O"

OBJECTS_XXXX=

# files listed here will have dependencies and rules generated, but they
# will not be put into any libraries

NO_LIB_SOURCES=

# files listed here will have dependencies generated, no rules 
# will be generated to make the objects or to put them into any libraries

NO_RULE_SOURCES=

# put in system libraries here

SYSLIBS=`hp9000s700 && \
  echo '/usr/lib/year2000.o \
	-lp2c' || \
  echo 'libp2c.lib \
	c.lib \
	kernel32.lib'`

OBJCCSYSLIBS=`hp9000s700 && \
  echo '/usr/lib/ICpak101.a /usr/lib/runtime.a'|| \
  echo 'ICpak101.lib rt.lib'`

# This list should contain all the non system libraries that exist
# in other directories that your executables need to link to.
# This will be a list of all the HP3070 subsystems that your
# executables need to link to.
# Note the the order of the libraries is important since the
# loader wants higher level libraries to appear before lower level ones
# use libX$A

LINK_LIBS=`hp9000s700 && \
  echo '' || \
  echo ''`

# This list should contain all the local libraries that this
# Makefile will create
# Note the the order of the libraries is important since the
# loader wants higher level libraries to appear before lower level ones
# use libX$A if you want an archived library to be built
# use libX$S if you want a shared library to be built

LOCAL_LIBS=`hp9000s700 && \
  echo '' || \
  echo ''`

# This list should include all local libraries that this Makefile
# will produce under either HPUX or NT.  This list is used by
# make depend to produce the rules for the all libraries.  This is
# the only place in which libraries and their types come together
# without system differences.  This list should contain all
# libraries listed in either portion of LOCAL_LIBS.

BUILD_LIBS=

VERSIONED_LIBS=`hp9000s700 && \
  echo '' || \
  echo ''`

# This list should contain all local libraries which are created
# in the manual rules section.  No rules will be generated for
# these libraries.

NO_RULE_LIBS=`hp9000s700 && \
  echo '' || \
  echo ''`

# This section allows you to individually customize which libraries
# each of your execuatables link to.
# If you are building shared libraries, you will want to use
# this variable.
# If you are building archived libraries, you typically will not
# want to specify anything here. 
# If nothing is specified here
# (in other words you leave the line as LIBS_XXXX= ) then the
# Makefile will link each executable with all the libraries
# listed in LOCAL_LIBS, and LINK_LIBS.
# Example for executable prg to be linked to libfoo$A instead of
# LOCAL_LIBS and LINK_LIBS:
#   LIBS_prg=libfoo$A
# Make sure you update the depend: target later in this Makefile
# to pass all the LIB_XXXX variables to the make depend script!!
# Don't forget that the order of the libs is important!!

LIBS_XXXX=

# list the source files here that get put into libraries
# As an example, the files that go into libary libexample$A should be
# listed under SOURCES_libexample
# source files that go into both archived and shared libraries should
# be listed here
# use filename.X - where X is c, cpp, m, or java

SOURCES_XXXX=

# list all versioned pgm, lib, and inc files here
# Be sure to end all executables with $E and all libraries with $A
VERPGM=
VERLIB=
VERINC=
VERHLP=
VERDIR=

# list all of the objects that should be removed by 'make clean'
# typically you should not have to add anything to this list
RM_OBJECTS=`hp9000s700 && \
  echo 'what.cpp \
	*.o \
	*.a \
	*.sl \
	*.class \
	*.I \
	*.sh \
	_*.c \
	*~ \
	lib \
	*.lint \
	core' || \
  echo '*.obj \
	*.lib \
	*.dll \
	*.class \
	*.sh \
	_*.c \
	*~ \
	lib \
	*.lint \
	*.sbr \
	*.pdb \
	*.exp \
	*.exe'`

CLEAR_EXPAND_MACROS= \
	EXPAND_MACRO="" \
	EXP_LINK_LIBS="" \
	EXP_LOCAL_LIBS="" \
	EXP_NO_RULE_LIBS=""

#########################################################################
# MAKE TARGETS SECTION
#########################################################################
# Note:  target "all" is programatically added below by "make depend"
default: all
src: all

lib: alwaysDoThis disp_ver check_env_var
	@[ "X$(VERLIB)" = "X" ] || phgetlib        $(VERLIB)
	@[ "X$(VERPGM)" = "X" ] || phgetpgm        $(VERPGM)
	@[ "X$(VERINC)" = "X" ] || phgetinclude    $(VERDIR) $(VERINC)
	@[ "X$(VERHLP)" = "X" ] || phgethelp       $(VERDIR) $(VERHLP)
	cp `verfile -p` lib

unlib: disp_ver check_env_var
	-@[ ! -r lib ] && echo "\t# No lib present" || \
	(remove="$(RM) $(RM_FLAGS) $(VERPGM) $(VERLIB) $(VERINC) lib"; \
	echo "\t$$remove"; \
	$$remove)

ver: disp_ver check_env_var
	@[ "X$(VERLIB)" = "X" ] || phputlib        $(VERLIB)
	@[ "X$(VERPGM)" = "X" ] || phputpgm        $(VERPGM)
	@[ "X$(VERINC)" = "X" ] || phputinclude    $(VERDIR) $(VERINC)
	@[ "X$(VERHLP)" = "X" ] || phputhelp       $(VERDIR) $(VERHLP)

clean: disp_ver check_env_var
	@remove="$(RM) $(RM_FLAGS) $(RM_OBJECTS) $(RM_PROGS)"; \
	echo "\t$$remove"; \
	$$remove

depend:	disp_ver
	@echo "\t#### calculating dependencies ####"
	@dep_prog="$(MAKE_DEP)"; \
	env MAKEFILE="$(MAKEFILE)" \
	    PROGRAMS="$(PROGRAMS)" \
	    PROGRAMS_P2C="$(PROGRAMS_P2C)" \
	    PROGRAMS_OBJCLINK="$(PROGRAMS_OBJCLINK)" \
	    PROGRAMS_P2C_OBJCLINK="$(PROGRAMS_P2C_OBJCLINK)" \
	    NO_LIB_SOURCES="$(NO_LIB_SOURCES)" \
	    NO_RULE_SOURCES="$(NO_RULE_SOURCES)" \
	    LIBS_XXXX="$(LIBS_XXXX)" \
	    SOURCES_XXXX="$(SOURCES_XXXX)" \
	    LOCAL_LIBS="$(LOCAL_LIBS)" \
	    BUILD_LIBS="$(BUILD_LIBS)" \
	    CC_INCLUDE="$(CC_INCLUDE)" \
	    OBJCC_INCLUDE="$(OBJCC_INCLUDE)" \
	    CXX_INCLUDE="$(CXX_INCLUDE)" \
	    DEPSPROG="$(DEPSPROG)" \
	    TEMPLATE_VER="$(TEMPLATE_VERSION)" \
	    $$dep_prog

# alwaysDoThis forces all the commands below it to be executed
# when it appears in a dependency list
alwaysDoThis:

expand_macros:
	@[ "$(EXPAND_MACRO)" != "" ] && sleep 2 || \
		$(MAKE)	EXPAND_MACRO=true \
			EXP_LINK_LIBS="$(LINK_LIBS)" \
			EXP_LOCAL_LIBS="$(LOCAL_LIBS)" \
			EXP_NO_RULE_LIBS="$(NO_RULE_LIBS)" \
			EXP_LIBS_XXXX="$(LIBS_XXXX)" \
			$${MAKEFILE:+-f} $$MAKEFILE

disp_ver:
	@[ "$(EXPAND_MACRO)" != "" ] || \
		echo "\n\t#### HP MTD Makefile at '"$$(pwd | sed 's=^.*[_/]hp3070/==')"', version "$(TEMPLATE_VERSION)" ####"

check_env_var:
	@hp9000s700 && \
	if [ "$A" != ".a" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable A is set to ".a".'; \
        fi || \
	if [ "$A" != ".lib" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable A is set to ".lib".'; \
        fi
	@hp9000s700 && \
	if [ "$E" != "" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable E is set to "".'; \
        fi || \
	if [ "$E" != ".exe" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable E is set to ".exe".'; \
        fi
	@hp9000s700 && \
	if [ "$O" != ".o" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable O is set to ".o".'; \
        fi || \
	if [ "$O" != ".obj" ]; then \
          echo '*** ERROR ***: This Makefile requires that the'; \
          echo '               environment variable O is set to ".obj".'; \
        fi

check_for_unlib:
	@[ ! -r lib ] || \
        echo "\n\t#WARNING: You may want to do 'make unlib' first.\n"

########################################################################
# MANUALLY ENTERED RULES SECTION
########################################################################
.PRECIOUS: $(EXP_LOCAL_LIBS)
.SUFFIXES:

LIM =  9000/limits \
      10000/limits

LIMITS=limit_file.sing
CAT=`hp9000s700 && \
  echo 'cat' || \
  echo 'cat'`
CAT_FLAGS=`hp9000s700 && \
  echo '' || \
  echo ''`

all: $(LIMITS) all_sanity

$(LIMITS): $(LIM)
	@[ "$(EXPAND_MACRO)" = "" ] || ( doit="$(CAT) $(CAT_FLAGS) $(LIM) > $@"; echo "\t$$doit"; eval $$doit )

$(LIM): alwaysDoThis
	@[ "$(EXPAND_MACRO)" = "" ] || ( cd  `dirname $@` && $(MAKE) $(CLEAR_EXPAND_MACROS) )

all_sanity:
	@[ "$(EXPAND_MACRO)" = "" ] || ( cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) sanity )
	@[ "$(EXPAND_MACRO)" = "" ] || ( cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) sanity )

sanity: sanity_dirs

sanity_dirs: alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) sanity
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) sanity

chk_PATH: disp_ver alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) chk_PATH
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) chk_PATH

dsp_PATH: disp_ver alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) dsp_PATH
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) dsp_PATH

lib: lib_dirs

lib_dirs: alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) lib
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) lib

unlib: unlib_dirs

unlib_dirs: alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) unlib
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) unlib

ver: ver_dirs

ver_dirs: alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) ver
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) ver

lint: disp_ver lint_dirs

lint_dirs: alwaysDoThis
	-@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) lint
	-@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) lint

clean: clean_dirs limits_clean

clean_dirs: alwaysDoThis
	@cd  9000 && $(MAKE) $(CLEAR_EXPAND_MACROS) clean
	@cd 10000 && $(MAKE) $(CLEAR_EXPAND_MACROS) clean

limits_clean: alwaysDoThis
	@doit="$(RM) $(RM_FLAGS) $(LIMITS)"; echo "\t$$doit"; eval $$doit

#########################################################################
# SUBTARGETS -- DO NOT EDIT THIS LINE OR ANYTHING BELOW IT (see depend:)
########################################################################
# This section of the makefile was programatically
# generated by make_depend_aCC version @(#)3.18
# on Sat Jun 19 08:34:40 MDT 2004.
# DO NOT EDIT ANYTHING BELOW THIS LINE.
########################################################################

all:	 \
	$(EXP_NO_RULE_LIBS) \
	$(EXP_LOCAL_LIBS)

lint:

listf:
	@[ "$(EXPAND_MACRO)" != "" ] && \
		echo $(EXP_CCFLAGS) $(EXP_CXXFLAGS) || \
		$(MAKE) EXPAND_MACRO=true \
			EXP_CCFLAGS="$(CCFLAGS)" \
			EXP_CXXFLAGS="$(CXXFLAGS)" \
			$${MAKEFILE:+-f} $$MAKEFILE listf

listi:
	@[ "$(EXPAND_MACRO)" != "" ] && \
		echo $(EXP_CC_INCLUDE) $(EXP_CXX_INCLUDE) || \
		$(MAKE) EXPAND_MACRO=true \
			EXP_CC_INCLUDE="$(CC_INCLUDE)" \
			EXP_CXX_INCLUDE="$(CXX_INCLUDE)" \
			$${MAKEFILE:+-f} $$MAKEFILE listi

