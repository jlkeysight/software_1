init_digital();
set_fclks_per_vector_pair(4);
set_receiver_range(1.500000,1.500000);
set_achan_rcv(mod_id, 0, ZERO_NUM, 2, 0, 4, 0);
set_achan_rcv(mod_id, 1, ZERO_NUM, 2, 0, 4, 0);
set_aim_src(mod_id, 2, 0, 4, 0);
set_aim_src_control(mod_id, STATIC0_NUM, UNUSED_ABLED_NUM);
set_aim_src_trg(mod_id, FLIP_FLOP_NUM);
set_aim_detgl(mod_id, 2, 0, 4, 0);
set_aim_det_trg(mod_id, STATIC0_NUM);
set_aim_glitch_clr(mod_id, FLIP_FLOP_NUM);
output_drv_and_rcv_enable();
start_vector(0, 2, 256, 256);
end_vector();
start_vector(1, 2, 0, 1);
end_vector();
start_vector(16, 2, 0, 1);
ftrigger_aim_src(mod_id);
end_vector();
start_vector(17, 2, 0, 1);
ftrigger_aim_src(mod_id);
farm_tic(mod_id);
end_vector();
start_vector(18, 2, 0, 1);
fclear_glitch(mod_id);
end_vector();
start_vector(19, 2, 0, 1);
fclear_glitch(mod_id);
farm_tic(mod_id);
end_vector();
start_vector(20, 2, 0, 1);
end_vector();
start_vector(21, 2, 0, 1);
farm_tic(mod_id);
end_vector();
vmcEndVectorSection();
add_seq_loc(0, 1, SEQ_NO_FLAG);
add_seq_loc(1, 1, SEQ_NO_FLAG);
add_seq_loc(2, 1, SEQ_NO_FLAG);
add_seq_loc(3, 1, SEQ_NO_FLAG);
add_seq_loc(4, 1, SEQ_NO_FLAG);
add_seq_loc(5, 1, SEQ_NO_FLAG);
add_seq_loc(6, 1, SEQ_NO_FLAG);
add_seq_loc(7, 1, SEQ_NO_FLAG);
add_seq_loc(8, 1, SEQ_NO_FLAG);
add_seq_loc(9, 1, SEQ_NO_FLAG);
add_seq_loc(10, 1, SEQ_NO_FLAG);
add_seq_loc(11, 1, SEQ_NO_FLAG);
add_seq_loc(12, 1, SEQ_NO_FLAG);
add_seq_loc(13, 1, SEQ_NO_FLAG);
add_seq_loc(14, 1, SEQ_NO_FLAG);
add_seq_loc(15, 1, SEQ_NO_FLAG);
add_seq_loc(16, 16, SEQ_NO_FLAG);
add_seq_loc(17, 17, SEQ_NO_FLAG);
add_seq_loc(18, 18, SEQ_NO_FLAG);
add_seq_loc(19, 19, SEQ_NO_FLAG);
add_seq_loc(20, 20, SEQ_NO_FLAG);
add_seq_loc(21, 21, SEQ_NO_FLAG);
add_vect_cmd(0, 0, PROG_NOP_FLAG);
add_vect_cmd(1, 0, PROG_NOP_FLAG);
add_vect_cmd(2, 0, PROG_NOP_FLAG);
add_jmp_cmd(3, 0, 256, PROG_NOP_FLAG);
add_jmpq_cmd(256, 17, CPU_NUM, 258, PROG_NO_FLAG);
add_jmp_cmd(257, 20, 256, PROG_NO_FLAG);
add_jmpq_cmd(258, 17, CPU_BAR_NUM, 512, PROG_NO_FLAG);
add_jmp_cmd(259, 20, 258, PROG_NO_FLAG);
add_jmpq_cmd(512, 21, CPU_NUM, 514, PROG_NO_FLAG);
add_jmp_cmd(513, 16, 512, PROG_NO_FLAG);
add_jmpq_cmd(514, 21, CPU_BAR_NUM, 768, PROG_NO_FLAG);
add_jmp_cmd(515, 16, 514, PROG_NO_FLAG);
add_jmpq_cmd(768, 19, CPU_NUM, 770, PROG_NO_FLAG);
add_jmp_cmd(769, 18, 768, PROG_NO_FLAG);
add_vect_cmd(770, 20, PROG_NO_FLAG);
add_jmpq_cmd(771, 18, CPU_BAR_NUM, 1024, PROG_NO_FLAG);
add_jmp_cmd(772, 19, 771, PROG_NO_FLAG);
add_vect_cmd(1024, 20, PROG_NO_FLAG);
add_jmpq_cmd(1025, 18, CPU_NUM, 1027, PROG_NO_FLAG);
add_jmp_cmd(1026, 19, 1025, PROG_NO_FLAG);
add_vect_cmd(1027, 20, PROG_NO_FLAG);
add_jmpq_cmd(1028, 19, CPU_BAR_NUM, 256, PROG_NO_FLAG);
add_jmp_cmd(1029, 18, 1028, PROG_NO_FLAG);
add_sls_cmd(1030, 0, 13, PROG_NOP_FLAG);
add_vect_cmd(1031, 0, PROG_NOP_FLAG+PROG_HALT_FLAG);
add_vect_cmd(1032, 0, PROG_NOP_FLAG);
add_vect_cmd(1033, 0, PROG_NOP_FLAG);
end_digital();
